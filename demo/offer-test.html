<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
</head>
<body>
  <div id="stdout"></div>
</body>
<script src="../client/webrtc-broker-client.js"></script>
<script>

try {
  var Offer = WebRTCBrokerClient.Offer;
  var Answer = WebRTCBrokerClient.Answer;
  var offer = new Offer("http://localhost:3000");
  var answer;
  offer.onpending = function(url) {
    document.getElementById('stdout').innerHTML = url;
    console.log(url);
    answer = new Answer(url);
    answer.oncomplete = function(connection) {
      console.log("answer connection");
    };
    answer.onerror = function(e) {
      console.error(e);
    };
  };
  offer.oncomplete = function(connection) {
    console.log("offer connection");
  };
  offer.onerror = function(e) {
    console.error(e);
  }
} catch(e) {
  console.error(e);
}

</script>
</html>